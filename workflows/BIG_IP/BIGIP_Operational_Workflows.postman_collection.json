{
	"variables": [],
	"info": {
		"name": "BIGIP_Operational_Workflows",
		"_postman_id": "46675699-d82c-012e-885e-51c975122fcc",
		"description": "",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "1_Change_Pool_Member_State",
			"description": "",
			"item": [
				{
					"name": "Authenticate and Obtain Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"var populate_vars = [",
									"        {name:\"_rt_f5_token\", value:\"token.token\"}",
									"    ];",
									"    ",
									"f5_populate_env_vars(populate_vars);",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/shared/authn/login",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Perform authentication and populate the {{_rt_f5_token}} variable"
					},
					"response": [
						{
							"id": "697f7f4f-b52d-432a-9534-abd005082d3f",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Check Pool Exists",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"f5_check_response();",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/tm/ltm/pool/~{{bigip_partition}}~{{bigip_pool_name}}",
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Check the specified pool exists:\n\nVariables Used:\n\n {{bigip_pool_name}} \tBIG-IP Pool Name\n {{bigip_parition}}\t\tBIG-IP Partition Name\n "
					},
					"response": [
						{
							"id": "026eda61-31c6-4ec8-8cf2-73478c49efeb",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Check Pool Member Exists",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"f5_check_response();",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/tm/ltm/pool/~{{bigip_partition}}~{{bigip_pool_name}}/members/~{{bigip_partition}}~{{bigip_pool_member}}",
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Check the specified pool member exists in the pool:\n\nVariables Used:\n\n {{bigip_pool_name}} \tPool Name\n {{bigip_parition}}\t\tPartition Name\n {{bigip_pool_member}}\tPool Member IP/Node Name\n "
					},
					"response": [
						{
							"id": "ae976417-4ae7-4c36-a8d6-b0bd0969baf9",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Change Pool Member State",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"f5_check_response();",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"var setState = postman.getEnvironmentVariable('bigip_object_state');",
									"var newState = \"error\";",
									"var newSession = \"error\";",
									"",
									"switch(setState.toLowerCase()) {",
									"    case 'enabled':",
									"        newState = \"user-up\";",
									"        newSession = \"user-enabled\";",
									"        break;",
									"    case 'disabled':",
									"        newState = \"user-up\";",
									"        newSession = \"user-disabled\";",
									"        break;",
									"    case 'force-disabled':",
									"        newState = \"user-down\";",
									"        newSession = \"user-disabled\";",
									"        break;",
									"    default:",
									"        postman.setNextRequest(null);",
									"}",
									"",
									"postman.setEnvironmentVariable(\"_rt_member_state\", newState);",
									"postman.setEnvironmentVariable(\"_rt_member_session\", newSession);",
									"",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/tm/ltm/pool/~{{bigip_partition}}~{{bigip_pool_name}}/members/~{{bigip_partition}}~{{bigip_pool_member}}",
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"state\":\"{{_rt_member_state}}\",\n\t\"session\":\"{{_rt_member_session}}\"\n}"
						},
						"description": "Change the specified pool member state:\n\nVariables Used:\n\n {{bigip_pool_name}} \tPool Name\n {{bigip_parition}}\t\tPartition Name\n {{bigip_pool_member}}\tPool Member IP/Node Name\n {{bigip_object_state}} Pool Member State\n \nThe {{bigip_object_state}} variable must be one of the following:\n\n enabled\n disabled\n force-disabled\n "
					},
					"response": [
						{
							"id": "bd4b15da-0f59-42bb-8ec2-b5910c132ec2",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				}
			]
		},
		{
			"name": "2_Add_Pool_Member",
			"description": "",
			"item": [
				{
					"name": "Authenticate and Obtain Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"var populate_vars = [",
									"        {name:\"_rt_f5_token\", value:\"token.token\"}",
									"    ];",
									"    ",
									"f5_populate_env_vars(populate_vars);",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/shared/authn/login",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Perform authentication and populate the {{_rt_f5_token}} variable"
					},
					"response": [
						{
							"id": "250f9c80-1423-45c3-a5a5-107017a1973e",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Check Pool Exists",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"f5_check_response();",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/tm/ltm/pool/~{{bigip_partition}}~{{bigip_pool_name}}",
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Check the specified pool exists:\n\nVariables Used:\n\n {{bigip_pool_name}} \tBIG-IP Pool Name\n {{bigip_parition}}\t\tBIG-IP Partition Name\n "
					},
					"response": [
						{
							"id": "6f420521-6b26-405b-9541-024a660930bd",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Add Pool Member",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"f5_check_response();",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"var setState = postman.getEnvironmentVariable('bigip_object_state');",
									"var newState = \"error\";",
									"var newSession = \"error\";",
									"",
									"switch(setState.toLowerCase()) {",
									"    case 'enabled':",
									"        newState = \"user-up\";",
									"        newSession = \"user-enabled\";",
									"        break;",
									"    case 'disabled':",
									"        newState = \"user-up\";",
									"        newSession = \"user-disabled\";",
									"        break;",
									"    case 'force-disabled':",
									"        newState = \"user-down\";",
									"        newSession = \"user-disabled\";",
									"        break;",
									"    default:",
									"        postman.setNextRequest(null);",
									"}",
									"",
									"postman.setEnvironmentVariable(\"_rt_member_state\", newState);",
									"postman.setEnvironmentVariable(\"_rt_member_session\", newSession);",
									"",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/tm/ltm/pool/~{{bigip_partition}}~{{bigip_pool_name}}/members",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\":\"{{bigip_pool_member}}\",\n\t\"state\":\"{{_rt_member_state}}\",\n\t\"session\":\"{{_rt_member_session}}\"\t\n}"
						},
						"description": "Change the specified pool member state:\n\nVariables Used:\n\n {{bigip_pool_name}} \tPool Name\n {{bigip_parition}}\t\tPartition Name\n {{bigip_pool_member}}\tPool Member IP/Node Name\n {{bigip_object_state}} Pool Member State\n \nThe {{bigip_object_state}} variable must be one of the following:\n\n enabled\n disabled\n force-disabled\n "
					},
					"response": [
						{
							"id": "d560b048-a0ff-4f7d-a85a-577d60f69cd6",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				}
			]
		},
		{
			"name": "3_Remove_Pool_Member",
			"description": "",
			"item": [
				{
					"name": "Authenticate and Obtain Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"var populate_vars = [",
									"        {name:\"_rt_f5_token\", value:\"token.token\"}",
									"    ];",
									"    ",
									"f5_populate_env_vars(populate_vars);",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/shared/authn/login",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Perform authentication and populate the {{_rt_f5_token}} variable"
					},
					"response": [
						{
							"id": "c1e47dfd-356e-46ae-a87f-a24af170db03",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Check Pool Exists",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"f5_check_response();",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/tm/ltm/pool/~{{bigip_partition}}~{{bigip_pool_name}}",
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Check the specified pool exists:\n\nVariables Used:\n\n {{bigip_pool_name}} \tBIG-IP Pool Name\n {{bigip_parition}}\t\tBIG-IP Partition Name\n "
					},
					"response": [
						{
							"id": "117938a3-f92a-447e-9b7d-33e68f6c9980",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Check Pool Member Exists",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"f5_check_response();",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/tm/ltm/pool/~{{bigip_partition}}~{{bigip_pool_name}}/members/~{{bigip_partition}}~{{bigip_pool_member}}",
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Check the specified pool member exists in the pool:\n\nVariables Used:\n\n {{bigip_pool_name}} \tPool Name\n {{bigip_parition}}\t\tPartition Name\n {{bigip_pool_member}}\tPool Member IP/Node Name\n "
					},
					"response": [
						{
							"id": "6d7899b1-bc33-47bb-98db-e2f61ff18efe",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Delete Pool Member",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"f5_check_response();",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/tm/ltm/pool/~{{bigip_partition}}~{{bigip_pool_name}}/members/~{{bigip_partition}}~{{bigip_pool_member}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": "Change the specified pool member state:\n\nVariables Used:\n\n {{bigip_pool_name}} \tPool Name\n {{bigip_parition}}\t\tPartition Name\n {{bigip_pool_member}}\tPool Member IP/Node Name\n"
					},
					"response": [
						{
							"id": "5826237f-a36b-40da-a80c-836ca6996e1e",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				}
			]
		},
		{
			"name": "4_Change_Node_State",
			"description": "",
			"item": [
				{
					"name": "Authenticate and Obtain Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"var populate_vars = [",
									"        {name:\"_rt_f5_token\", value:\"token.token\"}",
									"    ];",
									"    ",
									"f5_populate_env_vars(populate_vars);",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/shared/authn/login",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Perform authentication and populate the {{_rt_f5_token}} variable"
					},
					"response": [
						{
							"id": "9b41a53d-1c40-45a7-b4d8-0ed7ec90a198",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Check Node Exists",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"f5_check_response();",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}//mgmt/tm/ltm/node/~{{bigip_partition}}~{{bigip_node_name}}",
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Check the specified pool exists:\n\nVariables Used:\n\n {{bigip_node_name}} \tBIG-IP Pool Name\n {{bigip_parition}}\t\tBIG-IP Partition Name\n "
					},
					"response": [
						{
							"id": "6f70c2ab-2579-41e4-a567-c97c06e82517",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Change Node State",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"f5_check_response();",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"var setState = postman.getEnvironmentVariable('bigip_object_state');",
									"var newState = \"error\";",
									"var newSession = \"error\";",
									"",
									"switch(setState.toLowerCase()) {",
									"    case 'enabled':",
									"        newState = \"user-up\";",
									"        newSession = \"user-enabled\";",
									"        break;",
									"    case 'disabled':",
									"        newState = \"user-up\";",
									"        newSession = \"user-disabled\";",
									"        break;",
									"    case 'force-disabled':",
									"        newState = \"user-down\";",
									"        newSession = \"user-disabled\";",
									"        break;",
									"    default:",
									"        postman.setNextRequest(null);",
									"}",
									"",
									"postman.setEnvironmentVariable(\"_rt_member_state\", newState);",
									"postman.setEnvironmentVariable(\"_rt_member_session\", newSession);",
									"",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/tm/ltm/node/~{{bigip_partition}}~{{bigip_node_name}}",
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"state\":\"{{_rt_member_state}}\",\n\t\"session\":\"{{_rt_member_session}}\"\n}"
						},
						"description": "Change the specified pool member state:\n\nVariables Used:\n\n {{bigip_parition}}\t\tPartition Name\n {{bigip_node_name}}\tNode Name\n {{bigip_object_state}} Pool Member State\n \nThe {{bigip_object_state}} variable must be one of the following:\n\n enabled\n disabled\n force-disabled\n "
					},
					"response": [
						{
							"id": "ff723e40-8eef-4d86-8015-9ff8c181e9e5",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				}
			]
		},
		{
			"name": "5_Change_Virtual_Server_State",
			"description": "",
			"item": [
				{
					"name": "Authenticate and Obtain Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"var populate_vars = [",
									"        {name:\"_rt_f5_token\", value:\"token.token\"}",
									"    ];",
									"    ",
									"f5_populate_env_vars(populate_vars);",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/shared/authn/login",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Perform authentication and populate the {{_rt_f5_token}} variable"
					},
					"response": [
						{
							"id": "60320f20-d654-43e6-9072-9cd7564ff55e",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Check Virtual Server Exists",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"f5_check_response();",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/tm/ltm/virtual/~{{bigip_partition}}~{{bigip_vs_name}}",
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\": {{bigip_username}},\n\t\"password\": {{bigip_password}},\n\t\"loginProvidername\":\"tmos\"\n}\n"
						},
						"description": "Check the specified pool exists:\n\nVariables Used:\n\n {{bigip_vs_name}} \tBIG-IP Pool Name\n {{bigip_parition}}\t\tBIG-IP Partition Name\n "
					},
					"response": [
						{
							"id": "c4ec0414-406b-4fd1-9dca-18f84f58bcdf",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				},
				{
					"name": "Change Virtual Server State",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"eval(postman.getGlobalVariable(\"_f5_workflow_functions\"));",
									"",
									"var check_vals = [",
									"    {",
									"        \"path\":\"enabled\",",
									"        \"value\":postman.getEnvironmentVariable(\"bigip_vs_state\"),",
									"    }",
									"    ];",
									"    ",
									"f5_check_response(check_vals);",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"var setState = postman.getEnvironmentVariable('bigip_object_state');",
									"var newAttribute = \"error\";",
									"",
									"switch(setState.toLowerCase()) {",
									"    case 'enabled':",
									"        newAttribute = \"enabled\";",
									"        break;",
									"    case 'disabled':",
									"        newAttribute = \"disabled\";",
									"        break;",
									"    case 'force-disabled':",
									"        newAttribute = \"disabled\";",
									"        break;",
									"    default:",
									"        postman.setNextRequest(null);",
									"}",
									"",
									"postman.setEnvironmentVariable(\"_rt_vs_attribute\", newAttribute);",
									""
								]
							}
						}
					],
					"request": {
						"url": " https://{{bigip_mgmt}}/mgmt/tm/ltm/virtual/~{{bigip_partition}}~{{bigip_vs_name}}/",
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "X-F5-Auth-Token",
								"value": "{{_rt_f5_token}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"{{_rt_vs_attribute}}\":true\n}"
						},
						"description": "Change the specified virtual server state:\n\nVariables Used:\n\n {{bigip_vs_name}} \t\tVirtual Server Name\n {{bigip_parition}}\t\tPartition Name\n {{bigip_vs_enabled}} \tVirtual Server State\n \nThe {{bigip_vs_enabled}} variable must be one of the following:\n\n true\n false\n "
					},
					"response": [
						{
							"id": "65d6850f-ce47-46b6-ae31-05cf6864433b",
							"name": "Example",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"_postman_previewtype": "text",
							"header": [
								{
									"key": "Cache-Control",
									"value": "no-store, no-cache, must-revalidate",
									"name": "Cache-Control",
									"description": ""
								},
								{
									"key": "Connection",
									"value": "keep-alive",
									"name": "Connection",
									"description": ""
								},
								{
									"key": "Content-Length",
									"value": "710",
									"name": "Content-Length",
									"description": ""
								},
								{
									"key": "Content-Type",
									"value": "application/json",
									"name": "Content-Type",
									"description": ""
								},
								{
									"key": "Date",
									"value": "Mon, 19 Dec 2016 23:33:06 GMT",
									"name": "Date",
									"description": ""
								},
								{
									"key": "Expires",
									"value": "-1",
									"name": "Expires",
									"description": ""
								},
								{
									"key": "Pragma",
									"value": "no-cache",
									"name": "Pragma",
									"description": ""
								},
								{
									"key": "Server",
									"value": "webd",
									"name": "Server",
									"description": ""
								},
								{
									"key": "X-Real-IP",
									"value": "192.168.0.20",
									"name": "X-Real-IP",
									"description": ""
								},
								{
									"key": "accept-encoding",
									"value": "gzip, deflate",
									"name": "accept-encoding",
									"description": ""
								}
							],
							"cookie": [],
							"responseTime": 63,
							"body": "{\"username\":\"admin\",\"loginReference\":{\"link\":\"https://localhost/mgmt/cm/system/authn/providers/local/login\"},\"loginProviderName\":\"local\",\"token\":{\"token\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"name\":\"BTKMOGLPSSAPSIXJAI76XFFCE7\",\"userName\":\"admin\",\"authProviderName\":\"local\",\"user\":{\"link\":\"https://localhost/mgmt/shared/authz/users/admin\"},\"groupReferences\":[],\"timeout\":1200,\"startTime\":\"2016-12-19T15:33:06.668-0800\",\"address\":\"192.168.0.20\",\"partition\":\"[All]\",\"generation\":1,\"lastUpdateMicros\":1482190386668185,\"expirationMicros\":1482191586668000,\"kind\":\"shared:authz:tokens:authtokenitemstate\",\"selfLink\":\"https://localhost/mgmt/shared/authz/tokens/BTKMOGLPSSAPSIXJAI76XFFCE7\"},\"generation\":0,\"lastUpdateMicros\":0}"
						}
					]
				}
			]
		}
	]
}